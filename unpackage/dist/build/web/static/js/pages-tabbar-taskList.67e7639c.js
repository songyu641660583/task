(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tabbar-taskList"],{"0f7b":function(t,a,e){var i=e("b691");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("967d").default;s("3be0fc4f",i,!0,{sourceMap:!1,shadowMode:!1})},"15f7":function(t,a,e){"use strict";var i=e("0f7b"),s=e.n(i);s.a},3712:function(t,a,e){"use strict";e.r(a);var i=e("89b4"),s=e.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(n);a["default"]=s.a},"89b4":function(t,a,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=i(e("2634")),n=i(e("9b1b")),c=i(e("2fdc"));e("795c"),e("c223"),e("bf0f"),e("2797"),e("8f71"),e("aa9c"),e("64aa");var o=i(e("26ef"));function d(t){var a=new Date(1e3*t),e=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),s=String(a.getDate()).padStart(2,"0"),n=String(a.getHours()).padStart(2,"0"),c=String(a.getMinutes()).padStart(2,"0"),o=String(a.getSeconds()).padStart(2,"0");return"".concat(e,"-").concat(i,"-").concat(s," ").concat(n,":").concat(c,":").concat(o)}var u={computed:{i18n:function(){return this.$t("tasklist")}},data:function(){return{active:0,page:1,statusList:[],taskList:[],levelList:[]}},created:function(){this.statusList=[{name:this.i18n.statusList[0],id:0},{name:this.i18n.statusList[1],id:1},{name:this.i18n.statusList[2],id:2}],this.getUserLevel()},methods:{handleDetail:function(t){uni.navigateTo({url:"/pages/index/task-detail?type=".concat(this.active,"&id=").concat(t.task.id,"&user_task_id=").concat(t.id)})},getUserLevel:function(){var t=this;this.$http.requestajx("user_level","get",{}).then((function(a){t.getTaskData(),t.levelList=a.result}))},getTaskData:function(t){var a=this;return(0,c.default)((0,s.default)().mark((function e(){var i,c,u;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$http.userTaskList({type:t,page:a.page});case 2:i=e.sent,c=[],i.result.data.forEach((function(t){if(t.task){var e=a.levelList.filter((function(a){return a.level===t.task.level}))[0],i=e.name,s=e.icon;c.push((0,n.default)((0,n.default)({},t),{},{level_name:i,level_icon:o.default.ossBaseUrl+s,created_at:d(Number(t.created_at))}))}})),1===a.page?a.taskList=c:(u=a.taskList).push.apply(u,c);case 6:case"end":return e.stop()}}),e)})))()},handleActive:function(t){this.page=1,this.taskList=[],this.active=t,this.getTaskData(this.statusList[t].id)}}};a.default=u},aa07:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"taskList"},[e("v-uni-view",{staticClass:"status-list header_top"},t._l(t.statusList,(function(a,i){return e("v-uni-view",{key:i,staticClass:"status-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleActive(i)}}},[t._v(t._s(a.name)),e("v-uni-view",{style:{opacity:i===t.active?"1":"0"}})],1)})),1),e("v-uni-view",{staticClass:"task-content"},[0===t.taskList.length?e("v-uni-view",{staticClass:"no-data"},[e("v-uni-image",{attrs:{src:"/static/images/index/nodata.png",mode:""}}),e("v-uni-view",{staticClass:"text"},[t._v(t._s(t.i18n.noData))])],1):t._e(),t._l(t.taskList,(function(a,i){return e("v-uni-view",{key:i,staticClass:"task-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleDetail(a)}}},[e("v-uni-view",{staticClass:"task-item-icon"}),e("v-uni-view",{staticClass:"task-flex"},[e("v-uni-view",{staticClass:"task-level"},[e("v-uni-view",[a.level_icon?e("v-uni-image",{attrs:{src:a.level_icon,mode:""}}):t._e(),e("v-uni-text",{staticClass:"text1"},[t._v(t._s(a.level_name))])],1)],1),e("v-uni-view",{staticClass:"like"},[t._v("要求："),e("v-uni-text",[t._v("喜欢")])],1)],1),e("v-uni-view",{staticClass:"task-bottom"},[e("v-uni-view",{staticClass:"time"},[t._v(t._s(a.created_at))]),e("v-uni-view",{staticClass:"amount"},[t._v("$"+t._s(a.amount))])],1)],1)}))],2)],1)},s=[]},b691:function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,".taskList[data-v-e2d4c4ac]{display:flex;flex-direction:column;height:100%;background:#f3f3f3}.taskList .no-data[data-v-e2d4c4ac]{margin-top:%?100?%;text-align:center}.taskList .no-data uni-image[data-v-e2d4c4ac]{width:%?200?%;height:%?200?%}.taskList .no-data .text[data-v-e2d4c4ac]{margin-top:%?20?%;font-size:%?28?%;color:#666}.taskList .status-list[data-v-e2d4c4ac]{flex:none;padding-left:%?50?%;padding-right:%?50?%;padding-bottom:%?50?%;display:flex;justify-content:space-between;align-items:center;background-color:#fff}.taskList .status-list .status-item[data-v-e2d4c4ac]{position:relative}.taskList .status-list .status-item uni-view[data-v-e2d4c4ac]{position:absolute;left:0;right:0;height:%?6?%;bottom:%?-26?%;border-radius:20px;background-color:#3d5cff}.taskList .task-content[data-v-e2d4c4ac]{width:100%;flex:auto;overflow-y:auto;padding:%?20?% %?30?%}.taskList .task-content .task-flex[data-v-e2d4c4ac]{display:flex;align-items:center;gap:%?20?%}.taskList .task-content .like[data-v-e2d4c4ac]{padding:%?12?% %?16?%;border-radius:%?120?%;border:1px solid #979797;font-family:PingFangSC,PingFang SC;font-weight:400;font-size:%?24?%;color:#666}.taskList .task-content .like uni-text[data-v-e2d4c4ac]{color:#3d5cff}.taskList .task-content .task-item[data-v-e2d4c4ac]{margin-bottom:%?20?%;padding:%?20?%;border-radius:%?20?%;background:#fff}.taskList .task-content .task-item-icon uni-image[data-v-e2d4c4ac]{width:%?80?%;height:%?80?%}.taskList .task-content .task-item .task-level[data-v-e2d4c4ac]{display:inline-block}.taskList .task-content .task-item .task-level > uni-view[data-v-e2d4c4ac]{padding:%?8?% %?16?%;display:flex;align-items:center;background:#3d5cff;border-radius:50px;font-family:DIN;font-weight:600;font-size:%?26?%;color:#fff}.taskList .task-content .task-item .task-level > uni-view uni-image[data-v-e2d4c4ac]{width:%?38?%;height:%?38?%}.taskList .task-content .task-item .task-bottom[data-v-e2d4c4ac]{margin-top:%?12?%;display:flex;justify-content:space-between;align-items:center}.taskList .task-content .task-item .task-bottom .time[data-v-e2d4c4ac]{font-size:%?24?%;color:#a3a3a3}.taskList .task-content .task-item .task-bottom .amount[data-v-e2d4c4ac]{font-size:%?44?%;color:#f30d1c;font-weight:700}",""]),t.exports=a},b7cc:function(t,a,e){"use strict";e.r(a);var i=e("aa07"),s=e("3712");for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return s[t]}))}(n);e("15f7");var c=e("828b"),o=Object(c["a"])(s["default"],i["b"],i["c"],!1,null,"e2d4c4ac",null,!1,i["a"],void 0);a["default"]=o.exports}}]);